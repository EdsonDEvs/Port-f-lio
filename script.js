// Dados para internacionaliza√ß√£o
const languageData = {
    "pt": {
        "about": "Sobre Mim",
        "projects": "Projetos",
        "contact": "Contato",
        "header": "Desenvolvedor Full-Stack | Apaixonado por Tecnologia",
        "aboutMeContent": "Meu nome √© Edson da Silva Leandro. Sou desenvolvedor com experi√™ncia em cria√ß√£o de aplica√ß√µes web. Estou sempre em busca de novos desafios e oportunidades para aprimorar minhas habilidades. Meu foco principal √© o desenvolvimento de software utilizando tecnologias como:",
        "project1": "Sistema de Gest√£o Empresarial para Assist√™ncia T√©cnica - Aplica√ß√£o full-stack desenvolvida para otimizar opera√ß√µes de assist√™ncia t√©cnica. üèóÔ∏è Arquitetura: RESTful API Node.js/Express + React com hooks e context API + SQLite/Firebase Firestore ‚ö° Funcionalidades Principais: Workflow de aprova√ß√£o ‚Ä¢ SLA tracking ‚Ä¢ Relat√≥rios automatizados ‚Ä¢ Gera√ß√£o de PDFs din√¢micos üîê Seguran√ßa: Autentica√ß√£o JWT ‚Ä¢ Dashboard anal√≠tico em tempo real üõ†Ô∏è Stack: Node.js, Express, React, SQLite, Firebase, jsPDF, Material-UI",
        "project2": "Plataforma de Gest√£o Financeira Empresarial com IA - Sistema robusto de controle financeiro desenvolvido com arquitetura de microservi√ßos e automa√ß√£o inteligente. üèóÔ∏è Arquitetura: Microservi√ßos Node.js/TypeScript + React/Redux + PostgreSQL/Redis ü§ñ IA & Automa√ß√£o: Integra√ß√£o n8n ‚Ä¢ Assistente de IA OpenAI ‚Ä¢ An√°lise preditiva ML ‚Ä¢ Workflows automatizados üíº Funcionalidades Empresariais: Categoriza√ß√£o inteligente ‚Ä¢ Relat√≥rios executivos ‚Ä¢ Integra√ß√£o banc√°ria ‚Ä¢ WebSocket em tempo real üõ†Ô∏è Stack: TypeScript, React, Redux, Node.js, PostgreSQL, Redis, Chart.js, WebSocket, n8n, OpenAI API, ML",
        "project3": "Aplica√ß√£o Web Interativa de Consulta de Dados - Pokedex desenvolvida como demonstra√ß√£o de habilidades em consumo de APIs REST e UX/UI. ‚ö° Performance & UX: Hooks customizados React ‚Ä¢ Context API ‚Ä¢ Debounce search ‚Ä¢ Cache localStorage üîç Funcionalidades Avan√ßadas: Filtros din√¢micos m√∫ltiplos ‚Ä¢ Pagina√ß√£o otimizada ‚Ä¢ Tratamento de erros ‚Ä¢ Estados loading/error üì± Design Responsivo: Mobile-first ‚Ä¢ Anima√ß√µes CSS3 ‚Ä¢ Componentes reutiliz√°veis üõ†Ô∏è Stack: React, JavaScript ES6+, CSS3, PokeAPI, LocalStorage",
        "contactForm": {
            "name": "Nome completo:",
            "email": "Email:",
            "message": "Mensagem:",
            "button": "Enviar Mensagem",
            "success": "Mensagem enviada com sucesso!",
            "error": "Erro ao enviar mensagem. Tente novamente."
        },
        "downloadCV": "Baixar Curr√≠culo",
        "footer": "Desenvolvido por Edson da Silva Leandro",
        "navButtons": {
            "about": "Sobre_Mim",
            "projects": "Projetos", 
            "contact": "Contato"
        },
        "buttons": {
            "viewCode": "Ver C√≥digo",
            "viewDemo": "Ver Demo"
        }
    },
    "en": {
        "about": "About Me",
        "projects": "Projects",
        "contact": "Contact",
        "header": "Full-Stack Developer | Passionate about Technology",
        "aboutMeContent": "My name is Edson da Silva Leandro. I am a developer with experience in building web applications. I am always looking for new challenges and opportunities to improve my skills. My main focus is software development using technologies such as:",
        "project1": "Enterprise IT Technical Support Management System - Full-stack application developed to optimize technical support operations. üèóÔ∏è Architecture: RESTful API Node.js/Express + React with hooks and context API + SQLite/Firebase Firestore ‚ö° Key Features: Approval workflow ‚Ä¢ SLA tracking ‚Ä¢ Automated reports ‚Ä¢ Dynamic PDF generation üîê Security: JWT authentication ‚Ä¢ Real-time analytical dashboard üõ†Ô∏è Stack: Node.js, Express, React, SQLite, Firebase, jsPDF, Material-UI",
        "project2": "Enterprise Financial Management Platform with AI - Robust financial control system developed with microservices architecture and intelligent automation. üèóÔ∏è Architecture: Node.js/TypeScript microservices + React/Redux + PostgreSQL/Redis ü§ñ AI & Automation: n8n integration ‚Ä¢ OpenAI AI assistant ‚Ä¢ Predictive ML analysis ‚Ä¢ Automated workflows üíº Enterprise Features: Intelligent categorization ‚Ä¢ Executive reports ‚Ä¢ Banking integration ‚Ä¢ Real-time WebSocket üõ†Ô∏è Stack: TypeScript, React, Redux, Node.js, PostgreSQL, Redis, Chart.js, WebSocket, n8n, OpenAI API, ML",
        "project3": "Interactive Web Data Query Application - Pokedex developed as a demonstration of REST API consumption and UX/UI skills. ‚ö° Performance & UX: Custom React hooks ‚Ä¢ Context API ‚Ä¢ Debounce search ‚Ä¢ localStorage cache üîç Advanced Features: Dynamic multi-criteria filters ‚Ä¢ Optimized pagination ‚Ä¢ Error handling ‚Ä¢ Loading/error states üì± Responsive Design: Mobile-first ‚Ä¢ CSS3 animations ‚Ä¢ Reusable components üõ†Ô∏è Stack: React, JavaScript ES6+, CSS3, PokeAPI, LocalStorage",
        "contactForm": {
            "name": "Name:",
            "email": "Email:",
            "message": "Message:",
            "button": "Send Message",
            "success": "Message sent successfully!",
            "error": "Error sending message. Please try again."
        },
        "downloadCV": "Download CV",
        "footer": "Developed by Edson da Silva Leandro",
        "navButtons": {
            "about": "About_Me",
            "projects": "Projects",
            "contact": "Contact"
        },
        "buttons": {
            "viewCode": "View Code",
            "viewDemo": "View Demo"
        }
    },
    "es": {
        "about": "Sobre M√≠",
        "projects": "Proyectos",
        "contact": "Contacto",
        "header": "Desarrollador Full-Stack | Apasionado por la tecnolog√≠a",
        "aboutMeContent": "Mi nombre es Edson da Silva Leandro. Soy desarrollador con experiencia en la creaci√≥n de aplicaciones web. Siempre estoy buscando nuevos desaf√≠os y oportunidades para mejorar mis habilidades. Mi enfoque principal es el desarrollo de software utilizando tecnolog√≠as como:",
        "project1": "Sistema Empresarial de Gesti√≥n de Soporte T√©cnico - Aplicaci√≥n full-stack desarrollada para optimizar operaciones de soporte t√©cnico. üèóÔ∏è Arquitectura: API RESTful Node.js/Express + React con hooks y context API + SQLite/Firebase Firestore ‚ö° Funcionalidades Principales: Flujo de aprobaci√≥n ‚Ä¢ Seguimiento SLA ‚Ä¢ Informes automatizados ‚Ä¢ Generaci√≥n din√°mica de PDFs üîê Seguridad: Autenticaci√≥n JWT ‚Ä¢ Dashboard anal√≠tico en tiempo real üõ†Ô∏è Stack: Node.js, Express, React, SQLite, Firebase, jsPDF, Material-UI",
        "project2": "Plataforma Empresarial de Gesti√≥n Financiera con IA - Sistema robusto de control financiero desarrollado con arquitectura de microservicios y automatizaci√≥n inteligente. üèóÔ∏è Arquitectura: Microservicios Node.js/TypeScript + React/Redux + PostgreSQL/Redis ü§ñ IA y Automatizaci√≥n: Integraci√≥n n8n ‚Ä¢ Asistente de IA OpenAI ‚Ä¢ An√°lisis predictivo ML ‚Ä¢ Flujos de trabajo automatizados üíº Funcionalidades Empresariales: Categorizaci√≥n inteligente ‚Ä¢ Informes ejecutivos ‚Ä¢ Integraci√≥n bancaria ‚Ä¢ WebSocket en tiempo real üõ†Ô∏è Stack: TypeScript, React, Redux, Node.js, PostgreSQL, Redis, Chart.js, WebSocket, n8n, OpenAI API, ML",
        "project3": "Aplicaci√≥n Web Interactiva de Consulta de Datos - Pokedex desarrollada como demostraci√≥n de habilidades en consumo de APIs REST y UX/UI. ‚ö° Rendimiento y UX: Hooks personalizados React ‚Ä¢ Context API ‚Ä¢ B√∫squeda con debounce ‚Ä¢ Cach√© localStorage üîç Funcionalidades Avanzadas: Filtros din√°micos m√∫ltiples ‚Ä¢ Paginaci√≥n optimizada ‚Ä¢ Manejo de errores ‚Ä¢ Estados de carga/error üì± Dise√±o Responsivo: Mobile-first ‚Ä¢ Animaciones CSS3 ‚Ä¢ Componentes reutilizables üõ†Ô∏è Stack: React, JavaScript ES6+, CSS3, PokeAPI, LocalStorage",
        "contactForm": {
            "name": "Nombre:",
            "email": "Correo Electr√≥nico:",
            "message": "Mensaje:",
            "button": "Enviar Mensaje",
            "success": "¬°Mensaje enviado con √©xito!",
            "error": "Error al enviar el mensaje. Por favor, int√©ntalo de nuevo."
        },
        "downloadCV": "Descargar CV",
        "footer": "Desarrollado por Edson da Silva Leandro",
        "navButtons": {
            "about": "Sobre_M√≠",
            "projects": "Proyectos",
            "contact": "Contacto"
        },
        "buttons": {
            "viewCode": "Ver C√≥digo",
            "viewDemo": "Ver Demo"
        }
    }
};

// Elementos DOM
const typedText = document.querySelector('#typed-text');
const aboutText = document.querySelector('#typed-about');
const currentYear = document.getElementById('current-year');
const downloadButton = document.querySelector('a[download]');
const contactForm = document.getElementById('contactForm');

// Configura√ß√£o inicial
let currentLanguage = 'pt';
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = this;
    const feedback = document.createElement('div');
    feedback.id = 'formFeedback';
    form.appendChild(feedback);
    
    fetch(form.action, {
        method: 'POST',
        body: new FormData(form)
    })
    .then(response => {
        feedback.textContent = 'Mensagem enviada com sucesso!';
        feedback.classList.add('success');
        feedback.style.display = 'block';
        form.reset();
    })
    .catch(error => {
        feedback.textContent = 'Erro ao enviar. Tente novamente.';
        feedback.style.display = 'block';
    });
});
// Inicializa√ß√£o quando o DOM estiver pronto
document.addEventListener('DOMContentLoaded', function() {
    // Atualiza o ano no footer
    currentYear.textContent = new Date().getFullYear();
    
    // Inicia anima√ß√µes
    initAnimations();
    
    // Configura o formul√°rio
    setupContactForm();
    
    // Configura rolagem suave
    setupSmoothScrolling();
    
    // Configura o seletor de idioma
    document.getElementById('language-select').addEventListener('change', changeLanguage);
    
    // Configura o idioma inicial
    changeLanguage();
    
    // Esconde o loader quando a p√°gina carregar
    handlePageLoad();
});

// Anima√ß√£o de digita√ß√£o com cursor
function typeWithCursor(element, text, speed, callback) {
    let i = 0;
    element.textContent = '';
    const cursor = document.createElement('span');
    cursor.className = 'cursor';
    cursor.textContent = '|';
    element.appendChild(cursor);
    
    const typing = setInterval(() => {
        if (i < text.length) {
            element.insertBefore(document.createTextNode(text.charAt(i)), cursor);
            i++;
        } else {
            clearInterval(typing);
            cursor.style.display = 'none';
            if (callback) callback();
        }
    }, speed);
}

// Inicia anima√ß√µes
function initAnimations() {
    typeWithCursor(typedText, textToType, 150, () => {
        typeWithCursor(aboutText, languageData[currentLanguage].aboutMeContent, 50);
    });
}

// Mudan√ßa de idioma
function changeLanguage() {
    currentLanguage = document.getElementById('language-select').value;
    const langData = languageData[currentLanguage];

    // Atualiza textos est√°ticos
    document.querySelector('#about h2').textContent = langData.about;
    document.querySelector('#projects h2').textContent = langData.projects;
    document.querySelector('#contact h2').textContent = langData.contact;
    document.querySelector('header p .terminal-text').textContent = langData.header;
    if (downloadButton) downloadButton.textContent = langData.downloadCV;

    // Atualiza conte√∫do din√¢mico
    aboutText.textContent = '';
    typeWithCursor(aboutText, langData.aboutMeContent, 50);

    // Atualiza projetos
    const projectDescriptions = document.querySelectorAll('.project-item p');
    if (projectDescriptions.length >= 3) {
        projectDescriptions[0].textContent = langData.project1;
        projectDescriptions[1].textContent = langData.project2;
        projectDescriptions[2].textContent = langData.project3;
    }

    // Atualiza bot√µes de navega√ß√£o
    const navButtons = document.querySelectorAll('.digital-button');
    if (navButtons.length >= 3) {
        navButtons[0].textContent = langData.navButtons.about;
        navButtons[1].textContent = langData.navButtons.projects;
        navButtons[2].textContent = langData.navButtons.contact;
    }

    // Atualiza bot√µes dos projetos
    const projectButtons = document.querySelectorAll('.project-links .button');
    projectButtons.forEach((button, index) => {
        if (button.textContent.includes('C√≥digo') || button.textContent.includes('Code')) {
            button.textContent = langData.buttons.viewCode;
        } else if (button.textContent.includes('Demo')) {
            button.textContent = langData.buttons.viewDemo;
        }
    });

    // Atualiza formul√°rio
    if (contactForm) {
        document.querySelector('label[for="name"]').textContent = langData.contactForm.name;
        document.querySelector('label[for="email"]').textContent = langData.contactForm.email;
        document.querySelector('label[for="message"]').textContent = langData.contactForm.message;
        document.querySelector('#contactForm button').textContent = langData.contactForm.button;
    }

    // Atualiza footer
    document.querySelector('.copyright p').innerHTML = `&copy; ${new Date().getFullYear()} - ${langData.footer}`;
}

// Configura o formul√°rio de contato
function setupContactForm() {
    if (!contactForm) return;
    
    // Verifica par√¢metros da URL para mensagens de sucesso/erro
    const urlParams = new URLSearchParams(window.location.search);
    const success = urlParams.get('success');
    
    if (success === 'true') {
        showMessage('success', languageData[currentLanguage].contactForm.success);
    } else if (success === 'false') {
        showMessage('error', languageData[currentLanguage].contactForm.error);
    }
}

// Mostra mensagens de sucesso/erro
function showMessage(type, text) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `${type}-message`;
    messageDiv.textContent = text;
    
    contactForm.insertBefore(messageDiv, contactForm.firstChild);
    
    // Remove a mensagem ap√≥s 5 segundos
    setTimeout(() => {
        messageDiv.style.opacity = '0';
        setTimeout(() => {
            messageDiv.remove();
        }, 500);
    }, 5000);
}

// Configura rolagem suave
function setupSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
                
                // Atualiza a URL sem recarregar a p√°gina
                if (history.pushState) {
                    history.pushState(null, null, targetId);
                } else {
                    window.location.hash = targetId;
                }
            }
        });
    });
}

// Esconde o loader quando a p√°gina carrega
function handlePageLoad() {
    window.addEventListener('load', function() {
        setTimeout(() => {
            document.querySelector('.loading').style.opacity = '0';
            setTimeout(() => {
                document.querySelector('.loading').style.display = 'none';
            }, 500);
        }, 800);
    });
}

// Vari√°vel global para o texto a ser digitado
const textToType = "Edson da Silva Leandro";